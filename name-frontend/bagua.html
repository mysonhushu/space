<html>
	    <head>
		            <meta charset="utf8" />
			            <title>伏羲八卦</title>
				            <style type="text/css"> #canvas { background-color:yellow; } </style>
					        </head>
						    <body>
							            <canvas id="canvas" width="950" height="950">This browser does not support canvas tag</canvas>
								            <script type="text/javascript"> var c = document.getElementById("canvas"); var ctx = c.getContext("2d"); //太极中心点X坐标 var centerX = c.width / 2; //太极中心点Y坐标 var centerY = c.height / 2; //阴阳鱼(左阳右阴)形环转相抱的太极图的半径,大圈通神 var radius = 200; //鱼头半径,中圈通气 var fishHeadRadius = radius / 2; //鱼眼半径,小圈养精 var fisheyeRadius = radius / 6; //当前弧度数(从0点钟方向为起始,顺时针方向为正,初始图像为左阳右阴) var radian = 0; //2 * Math.PI弧度切割的总份数 var radianCount = 720; //2 * Math.PI长度,避免重复计算 var doublePI = Math.PI * 2; var halfPI = Math.PI * 0.5; //弧度步长 var radianStep = doublePI / radianCount; //八卦间隔弧度 var eightCombinationRadiusStep = doublePI / 8; //八卦间隔弧度的一半 var eightCombinationRadiusHalfStep = doublePI / 16; var sinEightCombinationRadiusHalfStep = Math.sin(eightCombinationRadiusHalfStep); var cosEightCombinationRadiusHalfStep = Math.cos(eightCombinationRadiusHalfStep); //八卦内径 var eightCombinationInnerDiameter = radius + 0; //八卦的正八边形的外切圆半径 var eightCombinationOutsideDiameter = eightCombinationInnerDiameter + 150; //八卦的正八边形边框线宽 var eightCombinationRegularOctagonLineWidth = 15; //八卦内径到正八边形的最短距离 var eightCombinationInnerDiameterToRegularOctagonDistance = (eightCombinationOutsideDiameter - eightCombinationRegularOctagonLineWidth / 2) * cosEightCombinationRadiusHalfStep - eightCombinationInnerDiameter; //八卦线断开的间隔 var eightCombinationLineBreakLength = 15; //八卦线宽 var eightCombinationLineWidth = eightCombinationInnerDiameterToRegularOctagonDistance / 7; //八卦线两端与圆心连成的三角形在圆心处的弧度的一半 var eightCombinationLineHalfTriangleRadius = new Float32Array(3); //八卦线两端到圆心的距离 var eightCombinationLineEndRadius = new Float32Array(3); //八卦线条类型(外0x04,中0x02,内0x01; 1表示完整,0表示中间断开) //var eightCombinationLineTypes = new Uint8Array([111,110,010,100,000,001,101,011]); var eightCombinationLineTypes = new Uint8Array([7,6,2,4,0,1,5,3]); //初始化八卦线数据 function initEightCombinationLine() { //八卦线长(二分之一的外框长) var eightCombinationLineLength = eightCombinationOutsideDiameter * sinEightCombinationRadiusHalfStep; //内径到八卦线,再到正八边形的距离比例 var distanceRates = [1.5, 3.5, 5.5]; for(var i=0; i<3; i++) { var eightCombinationLineCenterRadius = eightCombinationInnerDiameter + eightCombinationLineWidth * distanceRates[i]; eightCombinationLineHalfTriangleRadius[i] = Math.atan(eightCombinationLineLength / 2 / eightCombinationLineCenterRadius); eightCombinationLineEndRadius[i] = eightCombinationLineCenterRadius / Math.cos(eightCombinationLineHalfTriangleRadius[i]); } } //辅助线宽 var auxiliaryLineWidth = 1; //八卦字体 var eightCombinationFont = "bold 22pt 'Microsoft YaHei',SimHei,FangSong,KaiTi,YouYuan blue"; //八卦字体颜色 var eightCombinationFontColor = "black"; //八卦方位文字的半径 var eightCombinationDirectionTextRadius = eightCombinationOutsideDiameter + 20; //八卦文字的半径 var eightCombinationTextRadius = eightCombinationDirectionTextRadius + 40; //八卦宫号 var eightCombinationNumRadius = eightCombinationTextRadius + 40; //八卦方向文字 var eightCombinationDirectionTexts = ["南","西南","西","西北","北","东北","正","东南",]; //八卦文字 var eightCombinationTexts = ["乾(天)","巽xun(风)","坎(水)","艮gen(山)","坤(地)","震(雷)","离(火)","兑(沼泽)",]; //八卦宫号 var eightCombinationNums = ["一","五","六","七","八","四","三","二","一",]; //阳鱼鱼眼X坐标 var whiteFisheyeX; //阳鱼鱼眼Y坐标 var whiteFisheyeY; //阴鱼鱼眼X
